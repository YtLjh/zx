{\rtf1\ansi\ansicpg936\cocoartf2761
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="zh-CN">\
<head>\
    <meta charset="UTF-8">\
    <meta name="viewport" content="width=device-width, initial-scale=1.0">\
    <title>\uc0\u26262 \u24515 \u23432 \u25252  (Guardian App) - \u39640 \u20445 \u30495 \u21407 \u22411 </title>\
    \
    <!-- 1. \uc0\u24341 \u20837  Tailwind CSS (\u29992 \u20110 \u26679 \u24335 ) -->\
    <script src="https://cdn.tailwindcss.com"></script>\
    \
    <!-- 2. \uc0\u37197 \u32622  Import Map (\u21578 \u35785 \u27983 \u35272 \u22120 \u20174 \u21738 \u37324 \u19979 \u36733  React \u21644 \u22270 \u26631 \u24211 ) -->\
    <script type="importmap">\
    \{\
        "imports": \{\
            "react": "https://esm.sh/react@18.2.0",\
            "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",\
            "lucide-react": "https://esm.sh/lucide-react@0.292.0"\
        \}\
    \}\
    </script>\
\
    <!-- 3. \uc0\u24341 \u20837  Babel (\u29992 \u20110 \u32534 \u35793  JSX) -->\
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>\
\
    <!-- \uc0\u33258 \u23450 \u20041  Tailwind \u37197 \u32622  -->\
    <script>\
        tailwind.config = \{\
            theme: \{\
                extend: \{\
                    colors: \{\
                        primary: '#007AFF',\
                    \},\
                    animation: \{\
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',\
                    \}\
                \}\
            \}\
        \}\
    </script>\
    \
    <style>\
        /* \uc0\u38544 \u34255 \u28378 \u21160 \u26465 \u20294 \u20445 \u30041 \u21151 \u33021  */\
        .no-scrollbar::-webkit-scrollbar \{\
            display: none;\
        \}\
        .no-scrollbar \{\
            -ms-overflow-style: none;\
            scrollbar-width: none;\
        \}\
        \
        /* \uc0\u27169 \u25311  iOS \u23433 \u20840 \u21306 \u22495  */\
        .pb-safe \{\
            padding-bottom: env(safe-area-inset-bottom);\
        \}\
    </style>\
</head>\
<body class="bg-gray-800 flex items-center justify-center min-h-screen m-0 p-0 font-sans antialiased selection:bg-orange-100">\
    \
    <!-- React \uc0\u24212 \u29992 \u25346 \u36733 \u28857  -->\
    <div id="root"></div>\
\
    <!-- 4. React \uc0\u26680 \u24515 \u20195 \u30721  -->\
    <script type="text/babel" data-type="module">\
        import React, \{ useState, useEffect, useRef \} from 'react';\
        import \{ createRoot \} from 'react-dom/client';\
        // \uc0\u20174  CDN \u24341 \u20837 \u22270 \u26631 \
        import \{ \
            Phone, MapPin, Battery, Mic, Settings, ChevronRight, ChevronLeft, ChevronDown, ChevronUp,\
            X, Activity, Heart, AlertTriangle, History, User, Zap, Home, \
            Signal, Wifi, Bell, Shield, Moon, Share2, LogOut, Info, Smartphone,\
            CalendarDays, CheckCircle2, Circle, Plus, Trash2, Image as ImageIcon,\
            UploadCloud, Camera, Users, MessageSquare, ArrowRight, Filter,\
            Sparkles, Calendar, Clock, Footprints, Send, Loader2, Quote, Tv, Eye, LayoutGrid,\
            Thermometer, Droplets, Sun, Moon as MoonIcon, Coffee, Pill, UserPlus, ToggleLeft, ToggleRight,\
            BellRing, BellOff, Volume2, Check, ExternalLink, Inbox, Move\
        \} from 'lucide-react';\
\
        // --- \uc0\u24120 \u37327 \u19982 \u20027 \u39064  ---\
        const MOCK_DATA = \{\
            elder: \{\
                name: "\uc0\u29239 \u29239 ",\
                status: "\uc0\u22312 \u23478 \u20013 ",\
                battery: 68,\
                heartRateStatus: "\uc0\u24179 \u31283 ", \
                activityStatus: "\uc0\u38745 \u27490 \u20241 \u24687 ", \
                activityDuration: "45\uc0\u20998 \u38047 ", // \u26032 \u22686 \u65306 \u35753 \u29366 \u24577 \u26356 \u20687 \u25351 \u26631 \
                location: "\uc0\u21271 \u20140 \u24066 \u26397 \u38451 \u21306  \'b7 \u24184 \u31119 \u37324 \u23567 \u21306 ",\
                lastUpdate: "\uc0\u21018 \u21018 "\
            \},\
            user: \{\
                name: "\uc0\u24352 \u20255 ",\
                id: "Guardian_8823",\
                avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Felix"\
            \}\
        \};\
\
        const INITIAL_PHOTOS = [\
            \{ id: 1, url: "https://images.unsplash.com/photo-1511895426328-dc8714191300?q=80&w=800&auto=format&fit=crop", timestamp: 1703930000000, caption: "\uc0\u20840 \u23478 \u31119 ", status: "displaying" \},\
            \{ id: 2, url: "https://images.unsplash.com/photo-1506863530036-1ef841ed2781?q=80&w=400&auto=format&fit=crop", timestamp: 1703843600000, caption: "\uc0\u20844 \u22253 \u25955 \u27493 ", status: "synced" \},\
            \{ id: 3, url: "https://images.unsplash.com/photo-1529156069898-49953e39b3ac?q=80&w=400&auto=format&fit=crop", timestamp: 1703500000000, caption: "\uc0\u32769 \u21451 \u32858 \u20250 ", status: "synced" \},\
            \{ id: 4, url: "https://images.unsplash.com/photo-1542038784456-1ea8e935640e?q=80&w=400&auto=format&fit=crop", timestamp: 1703000000000, caption: "\uc0\u30475 \u20070 ", status: "synced" \},\
            \{ id: 5, url: "https://images.unsplash.com/photo-1516724562728-afc824a36e84?q=80&w=400&auto=format&fit=crop", timestamp: 1700000000000, caption: "\uc0\u26194 \u22826 \u38451 ", status: "synced" \},\
            \{ id: 6, url: "https://images.unsplash.com/photo-1473172707857-f9e276582ab6?q=80&w=400&auto=format&fit=crop", timestamp: 1699900000000, caption: "\uc0\u33457 \u24320 ", status: "synced" \},\
        ];\
\
        // --- \uc0\u36741 \u21161 \u20989 \u25968  ---\
        const isSameDay = (d1, d2) => \{\
            return d1.getFullYear() === d2.getFullYear() &&\
                   d1.getMonth() === d2.getMonth() &&\
                   d1.getDate() === d2.getDate();\
        \};\
\
        const isYesterday = (d1) => \{\
            const yesterday = new Date();\
            yesterday.setDate(yesterday.getDate() - 1);\
            return isSameDay(d1, yesterday);\
        \};\
\
        // --- \uc0\u36890 \u29992  UI \u32452 \u20214  ---\
        const ListRow = (\{ icon: Icon, label, value, hasArrow = true, isDestructive = false, onClick, iconColor, rightElement, subLabel \}) => (\
            <div \
                onClick=\{onClick\}\
                className=\{`flex items-center justify-between p-4 bg-white active:bg-gray-100 transition-colors cursor-pointer $\{isDestructive ? 'text-red-500' : 'text-gray-900'\}`\}\
            >\
                <div className="flex items-center gap-3">\
                    \{Icon && <Icon size=\{22\} className=\{iconColor || (isDestructive ? "text-red-500" : "text-gray-500")\} />\}\
                    <div className="flex flex-col">\
                        <span className=\{`text-[15px] font-medium $\{value && !hasArrow ? '' : 'truncate max-w-[200px]'\}`\}>\{label\}</span>\
                        \{subLabel && <span className="text-xs text-gray-400 mt-0.5">\{subLabel\}</span>\}\
                    </div>\
                </div>\
                <div className="flex items-center gap-2">\
                    \{value && <span className="text-[15px] text-gray-400">\{value\}</span>\}\
                    \{rightElement\}\
                    \{hasArrow && <ChevronRight size=\{16\} className="text-gray-300" />\}\
                </div>\
            </div>\
        );\
\
        const ListGroup = (\{ title, children \}) => (\
            <div className="mb-6">\
                \{title && <div className="px-4 mb-2 text-[13px] text-gray-500 uppercase tracking-wide ml-1">\{title\}</div>\}\
                <div className="bg-white rounded-xl overflow-hidden border border-gray-200/50 shadow-sm mx-4">\
                    \{React.Children.map(children, (child, index) => (\
                        <div key=\{index\}>\
                            \{child\}\
                            \{index < React.Children.count(children) - 1 && (\
                                <div className="ml-11 border-b border-gray-100 h-[1px]" />\
                            )\}\
                        </div>\
                    ))\}\
                </div>\
            </div>\
        );\
\
        const NavBar = (\{ title, leftText, rightIcon, onBack, onRightClick, largeTitle = false \}) => (\
            <React.Fragment>\
                <div className=\{`sticky top-0 w-full z-30 bg-white/80 backdrop-blur-xl border-b border-gray-200/50 transition-all $\{largeTitle ? 'h-12' : 'h-11'\} flex items-center justify-between px-2 pt-2`\}>\
                    <div className="flex-1 flex justify-start">\
                        \{onBack && (\
                            <button onClick=\{onBack\} className="flex items-center text-[#007AFF] px-2 active:opacity-50">\
                                <ChevronLeft size=\{24\} />\
                                <span className="text-[17px] -ml-1">\{leftText || "\uc0\u36820 \u22238 "\}</span>\
                            </button>\
                        )\}\
                    </div>\
                    \
                    \{!largeTitle && <div className="font-semibold text-[17px]">\{title\}</div>\}\
                    \
                    <div className="flex-1 flex justify-end">\
                        \{rightIcon && (\
                            <button onClick=\{onRightClick\} className="p-2 text-[#007AFF] active:opacity-50">\
                                \{rightIcon\}\
                            </button>\
                        )\}\
                    </div>\
                </div>\
                \{largeTitle && (\
                    <div className="bg-gray-50 px-4 pb-2 pt-1">\
                        <h1 className="text-[34px] font-bold tracking-tight text-gray-900">\{title\}</h1>\
                    </div>\
                )\}\
            </React.Fragment>\
        );\
\
        const Widget = (\{ icon: Icon, title, value, subValue, unit, colorClass, colSpan = "col-span-1" \}) => (\
            <div className=\{`bg-white p-4 rounded-2xl shadow-sm border border-gray-100 flex flex-col justify-between h-32 $\{colSpan\}`\}>\
                <div className="flex justify-between items-start">\
                    <div className=\{`w-8 h-8 rounded-full flex items-center justify-center $\{colorClass\} bg-opacity-10`\}>\
                        <Icon size=\{18\} className=\{colorClass.replace('bg-', 'text-')\} />\
                    </div>\
                    <span className="text-xs text-gray-400 font-medium uppercase">\{title\}</span>\
                </div>\
                <div>\
                    <div className="text-2xl font-bold tracking-tight text-gray-900">\
                        \{value\} <span className="text-sm text-gray-500 font-normal">\{unit\}</span>\
                    </div>\
                    \{subValue && (\
                        <div className="text-xs text-gray-400 mt-1">\{subValue\}</div>\
                    )\}\
                </div>\
            </div>\
        );\
\
        // S2: \uc0\u32039 \u24613 \u36300 \u20498 \u20840 \u23631 \u35206 \u30422 \
        const EmergencyOverlay = (\{ onDismiss, onCall \}) => (\
            <div className="absolute inset-0 z-[100] bg-[#FF3B30] text-white flex flex-col animate-in fade-in zoom-in duration-300">\
                <div className="flex-1 flex flex-col items-center justify-center p-8 text-center">\
                    <div className="w-24 h-24 bg-white/20 rounded-full flex items-center justify-center mb-6 backdrop-blur-md animate-pulse">\
                        <AlertTriangle size=\{48\} className="text-white" />\
                    </div>\
                    <h2 className="text-4xl font-bold mb-2">\uc0\u26816 \u27979 \u21040 \u36300 \u20498 </h2>\
                    <p className="text-xl font-medium opacity-90 mb-8">\uc0\u29239 \u29239  \'b7 \u22312 \u23478 \u20013 \u23458 \u21381 </p>\
                    \
                    <div className="w-full max-w-xs space-y-4">\
                        <button \
                            onClick=\{onCall\}\
                            className="w-full h-16 bg-white text-[#FF3B30] rounded-2xl flex items-center justify-center gap-3 text-xl font-bold shadow-lg active:scale-95 transition-transform"\
                        >\
                            <Phone fill="currentColor" /> \uc0\u31435 \u21363 \u25320 \u25171 \u30005 \u35805 \
                        </button>\
                        <div className="grid grid-cols-2 gap-4">\
                            <button className="h-14 bg-black/20 text-white rounded-xl font-semibold backdrop-blur-sm active:bg-black/30">\
                                \uc0\u26597 \u30475 \u30417 \u25511 \
                            </button>\
                            <button className="h-14 bg-black/20 text-white rounded-xl font-semibold backdrop-blur-sm active:bg-black/30">\
                                \uc0\u21628 \u21483  120\
                            </button>\
                        </div>\
                    </div>\
                </div>\
                <button \
                    onClick=\{onDismiss\}\
                    className="mb-12 text-sm text-white/80 underline decoration-white/50 underline-offset-4"\
                >\
                    \uc0\u32769 \u20154 \u27809 \u20107 \u65292 \u35299 \u38500 \u35686 \u25253 \
                </button>\
            </div>\
        );\
\
        // S3/S4: \uc0\u27934 \u23519 \u21345 \u29255  (\u20581 \u24247 \u39118 \u38505  & \u20146 \u24773 \u35805 \u39064 )\
        const InsightCard = (\{ type, title, desc, time, onAction, onDismiss \}) => \{\
            const config = \{\
                risk: \{\
                    bg: "bg-blue-50",\
                    border: "border-blue-100",\
                    icon: Activity,\
                    iconColor: "text-blue-600",\
                    btnBg: "bg-blue-600",\
                    btnText: "\uc0\u36828 \u31243 \u24178 \u39044 "\
                \},\
                topic: \{\
                    bg: "bg-orange-50",\
                    border: "border-orange-100",\
                    icon: Heart,\
                    iconColor: "text-orange-500",\
                    btnBg: "bg-orange-500",\
                    btnText: "\uc0\u21435 \u32842 \u32842 "\
                \},\
                battery: \{\
                    bg: "bg-yellow-50",\
                    border: "border-yellow-100",\
                    icon: Zap,\
                    iconColor: "text-yellow-500",\
                    btnBg: "bg-yellow-500",\
                    btnText: "\uc0\u30693 \u36947 \u20102 "\
                \}\
            \};\
            \
            const style = config[type] || config.topic;\
            const Icon = style.icon;\
\
            return (\
                <div className=\{`relative overflow-hidden rounded-2xl p-4 mb-3 border $\{style.bg\} $\{style.border\} shadow-sm animate-in slide-in-from-top-2 duration-500`\}>\
                    <div className="flex justify-between items-start mb-2">\
                        <div className="flex items-center gap-2">\
                            <div className=\{`p-1.5 rounded-lg bg-white $\{style.iconColor\}`\}>\
                                <Icon size=\{16\} />\
                            </div>\
                            <span className=\{`text-xs font-bold uppercase tracking-wider $\{style.iconColor\}`\}>\
                                \{type === 'risk' ? '\uc0\u20581 \u24247 \u39118 \u38505 \u38459 \u26029 ' : type === 'battery' ? '\u35774 \u22791 \u29366 \u24577 \u25552 \u37266 ' : '\u20146 \u24773 \u35805 \u39064 \u25688 \u35201 '\}\
                            </span>\
                        </div>\
                        <span className="text-xs text-gray-400">\{time\}</span>\
                    </div>\
                    \
                    <h3 className="text-lg font-bold text-gray-900 mb-1">\{title\}</h3>\
                    <p className="text-sm text-gray-600 mb-4 leading-relaxed line-clamp-2">\{desc\}</p>\
                    \
                    <div className="flex gap-3">\
                        \{style.btnText && (\
                            <button \
                                onClick=\{onAction\}\
                                className=\{`flex-1 h-10 $\{style.btnBg\} text-white text-sm font-semibold rounded-xl shadow-sm active:opacity-90 flex items-center justify-center gap-2 transition-transform active:scale-[0.98]`\}\
                            >\
                                \{type !== 'battery' && <Mic size=\{16\} />\} \{style.btnText\}\
                            </button>\
                        )\}\
                        <button \
                            onClick=\{onDismiss\}\
                            className="w-10 h-10 bg-white border border-gray-200 rounded-xl flex items-center justify-center text-gray-400 active:bg-gray-50"\
                        >\
                            <X size=\{18\} />\
                        </button>\
                    </div>\
                </div>\
            );\
        \};\
\
        // \uc0\u38382 \u20505 \u35821 \u38754 \u26495 \
        const GreetingModal = (\{ onClose \}) => \{\
            const [sending, setSending] = useState(false);\
            const [sent, setSent] = useState(false);\
\
            const greetings = [\
                \{ id: 1, icon: Sun, text: "\uc0\u26089 \u23433 \u65292 \u35760 \u24471 \u21507 \u26089 \u39277 ", color: "text-orange-500", bg: "bg-orange-50" \},\
                \{ id: 2, icon: MoonIcon, text: "\uc0\u26202 \u23433 \u65292 \u26089 \u28857 \u20241 \u24687 ", color: "text-indigo-500", bg: "bg-indigo-50" \},\
                \{ id: 3, icon: Pill, text: "\uc0\u35760 \u24471 \u25353 \u26102 \u21507 \u33647 ", color: "text-green-500", bg: "bg-green-50" \},\
                \{ id: 4, icon: Coffee, text: "\uc0\u22825 \u20919 \u20102 \u22810 \u21917 \u28909 \u27700 ", color: "text-blue-500", bg: "bg-blue-50" \},\
                \{ id: 5, icon: Heart, text: "\uc0\u24819 \u24744 \u20102 \u65292 \u27880 \u24847 \u36523 \u20307 ", color: "text-rose-500", bg: "bg-rose-50" \},\
                \{ id: 6, icon: Phone, text: "\uc0\u25105 \u26202 \u28857 \u32473 \u24744 \u25171 \u30005 \u35805 ", color: "text-purple-500", bg: "bg-purple-50" \},\
            ];\
\
            const handleSend = (text) => \{\
                setSending(true);\
                setTimeout(() => \{\
                    setSending(false);\
                    setSent(true);\
                    setTimeout(onClose, 1500);\
                \}, 1000);\
            \};\
\
            return (\
                <div className="absolute inset-0 z-50 flex items-end justify-center bg-black/40 backdrop-blur-sm animate-in fade-in duration-200">\
                    <div className="bg-white w-full rounded-t-3xl p-6 pb-12 shadow-2xl animate-in slide-in-from-bottom-full duration-300">\
                        <div className="flex justify-between items-center mb-6">\
                            <h3 className="text-xl font-bold text-gray-900">\uc0\u21457 \u36865 \u28201 \u39336 \u38382 \u20505 </h3>\
                            <button onClick=\{onClose\} className="p-1 text-gray-400 hover:text-gray-600 bg-gray-100 rounded-full"><X size=\{20\}/></button>\
                        </div>\
\
                        \{sent ? (\
                            <div className="flex flex-col items-center justify-center py-10 space-y-4">\
                                <div className="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center text-green-600 animate-in zoom-in">\
                                    <CheckCircle2 size=\{32\} />\
                                </div>\
                                <p className="text-lg font-medium text-gray-800">\uc0\u24050 \u25512 \u36865 \u21040 \u35774 \u22791 \u25773 \u25918 </p>\
                            </div>\
                        ) : (\
                            <div className="grid grid-cols-2 gap-3 mb-4">\
                                \{greetings.map((item) => (\
                                    <button\
                                        key=\{item.id\}\
                                        disabled=\{sending\}\
                                        onClick=\{() => handleSend(item.text)\}\
                                        className=\{`flex items-center gap-3 p-4 rounded-xl border border-transparent transition-all active:scale-[0.98] $\{item.bg\} hover:border-gray-200 text-left`\}\
                                    >\
                                        <item.icon size=\{20\} className=\{item.color\} />\
                                        <span className="text-sm font-medium text-gray-700">\{item.text\}</span>\
                                    </button>\
                                ))\}\
                            </div>\
                        )\}\
                        \
                        \{sending && (\
                            <div className="absolute inset-0 bg-white/50 flex items-center justify-center rounded-t-3xl">\
                                <Loader2 size=\{32\} className="text-blue-500 animate-spin" />\
                            </div>\
                        )\}\
                    </div>\
                </div>\
            );\
        \};\
\
        // \uc0\u36828 \u31243 \u23545 \u35762 \u39029 \u38754 \
        const IntercomView = (\{ onBack, initialTopic = null \}) => \{\
            const [recording, setRecording] = useState(false);\
            const [activeTopic, setActiveTopic] = useState(initialTopic); \
            \
            const messages = [\
                \{ id: 1, type: 'system', text: '\uc0\u24050 \u24314 \u31435 \u23433 \u20840 \u36830 \u25509 ', time: '10:00' \},\
                \{ id: 2, type: 'out', duration: 8, time: '10:01' \},\
                \{ id: 3, type: 'in', text: '\uc0\u23567 \u26126 \u21834 \u65292 \u25105 \u21018 \u21507 \u23436 \u39277 \u65292 \u20934 \u22791 \u21435 \u20844 \u22253 \u12290 ', time: '10:02', isTextSummary: true \},\
                \{ id: 4, type: 'out', duration: 12, time: '10:05' \},\
            ];\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] flex flex-col h-full relative">\
                    <NavBar title="\uc0\u36828 \u31243 \u21898 \u35805 " onBack=\{onBack\} leftText="\u39318 \u39029 " />\
                    \
                    \{activeTopic && (\
                        <div className="bg-white/90 backdrop-blur-md border-b border-gray-200 p-3 flex items-start gap-3 animate-in slide-in-from-top-4 z-10 sticky top-0 shadow-sm">\
                            <div className="p-2 bg-orange-100 rounded-lg text-orange-600">\
                                \{activeTopic.type === 'risk' ? <Activity size=\{18\} /> : <Heart size=\{18\} />\}\
                            </div>\
                            <div className="flex-1">\
                                <div className="flex justify-between items-center">\
                                    <span className="text-xs font-bold text-gray-500 uppercase tracking-wider">\
                                        \{activeTopic.type === 'risk' ? '\uc0\u27491 \u22312 \u35299 \u20915 \u39118 \u38505 ' : '\u27491 \u22312 \u32842 \u30340 \u35805 \u39064 '\}\
                                    </span>\
                                    <button onClick=\{() => setActiveTopic(null)\} className="text-gray-400 p-1"><X size=\{14\}/></button>\
                                </div>\
                                <p className="text-sm font-medium text-gray-900 mt-0.5 line-clamp-1">\{activeTopic.desc\}</p>\
                            </div>\
                        </div>\
                    )\}\
                    \
                    <div className="flex-1 p-4 space-y-6 overflow-y-auto">\
                        <div className="text-center text-xs text-gray-400 my-4">\uc0\u20170 \u22825  10:00</div>\
                        \
                        \{messages.map((msg) => (\
                            <div key=\{msg.id\} className=\{`flex $\{msg.type === 'out' ? 'justify-end' : 'justify-start'\}`\}>\
                                \{msg.type === 'system' ? (\
                                    <div className="w-full text-center text-xs text-gray-400 bg-gray-200/50 py-1 rounded-full mx-10">\{msg.text\}</div>\
                                ) : (\
                                    <div className=\{`flex items-end gap-2 max-w-[80%] $\{msg.type === 'out' ? 'flex-row-reverse' : 'flex-row'\}`\}>\
                                        <div className=\{`w-10 h-10 rounded-full flex items-center justify-center shrink-0 border-2 border-white shadow-sm overflow-hidden $\{msg.type === 'out' ? 'bg-blue-100' : 'bg-gray-200'\}`\}>\
                                            <img src=\{msg.type === 'out' ? MOCK_DATA.user.avatar : "https://images.unsplash.com/photo-1516724562728-afc824a36e84?q=80&w=400&auto=format&fit=crop"\} className="w-full h-full object-cover" />\
                                        </div>\
                                        \
                                        <div className=\{`p-3 rounded-2xl shadow-sm border $\{msg.type === 'out' ? 'bg-[#007AFF] text-white rounded-tr-none border-blue-600' : 'bg-white text-gray-800 rounded-tl-none border-gray-100'\}`\}>\
                                            \{msg.isTextSummary ? (\
                                                <div>\
                                                    <div className="flex items-center gap-1 mb-1 opacity-70 text-[10px] uppercase tracking-wider">\
                                                        <Sparkles size=\{10\} /> \uc0\u35821 \u38899 \u36716 \u25991 \u23383 \
                                                    </div>\
                                                    <p className="text-sm">\{msg.text\}</p>\
                                                </div>\
                                            ) : (\
                                                <div className="flex items-center gap-2 min-w-[80px]">\
                                                    <div className="flex space-x-1">\
                                                        <div className="w-1 h-3 bg-current rounded-full animate-pulse"></div>\
                                                        <div className="w-1 h-4 bg-current rounded-full animate-pulse delay-75"></div>\
                                                        <div className="w-1 h-2 bg-current rounded-full animate-pulse delay-150"></div>\
                                                    </div>\
                                                    <span className="text-xs font-bold">\{msg.duration\}"</span>\
                                                </div>\
                                            )\}\
                                        </div>\
                                    </div>\
                                )\}\
                            </div>\
                        ))\}\
                        \
                        <div className="h-20"></div>\
                    </div>\
\
                    <div className="bg-white border-t border-gray-200 p-6 pb-20 z-20">\
                        <button \
                            onMouseDown=\{() => setRecording(true)\}\
                            onMouseUp=\{() => setRecording(false)\}\
                            onTouchStart=\{() => setRecording(true)\}\
                            onTouchEnd=\{() => setRecording(false)\}\
                            className=\{`w-full h-16 rounded-2xl font-bold text-lg flex items-center justify-center gap-2 transition-all shadow-lg select-none touch-none\
                                $\{recording \
                                    ? 'bg-amber-500 scale-95 text-white shadow-amber-500/30' \
                                    : 'bg-white border-2 border-gray-100 text-gray-700 shadow-gray-100 active:scale-95'\}`\}\
                        >\
                            <Mic size=\{24\} className=\{recording ? "animate-pulse" : ""\} />\
                            \{recording ? "\uc0\u26494 \u25163 \u21457 \u36865 " : "\u25353 \u20303  \u35828 \u35805 "\}\
                        </button>\
                        <p className="text-center text-xs text-gray-400 mt-3">\uc0\u38271 \u25353 \u25353 \u38062 \u21457 \u36865 \u35821 \u38899 \u65292 \u35774 \u22791 \u23558 \u33258 \u21160 \u25773 \u25918 </p>\
                    </div>\
\
                    \{recording && (\
                        <div className="absolute inset-0 z-30 flex flex-col items-center justify-center bg-black/40 backdrop-blur-sm animate-in fade-in duration-200">\
                            <div className="bg-amber-500 w-32 h-32 rounded-full flex items-center justify-center animate-pulse shadow-[0_0_0_20px_rgba(245,158,11,0.3)]">\
                                <Mic size=\{48\} className="text-white" />\
                            </div>\
                            <div className="mt-8 bg-white/90 px-6 py-2 rounded-full text-amber-600 font-bold tracking-wide">\
                                \uc0\u27491 \u22312 \u24405 \u38899 ...\
                            </div>\
                            <p className="mt-4 text-white/80 text-sm font-medium">\uc0\u26494 \u24320 \u25163 \u25351 \u21457 \u36865 \u65292 \u19978 \u28369 \u21462 \u28040 </p>\
                            \
                            <div className="flex gap-1 h-8 items-center mt-6">\
                                \{[...Array(5)].map((_,i) => (\
                                    <div key=\{i\} className="w-1 bg-white rounded-full animate-[bounce_1s_infinite]" style=\{\{height: `$\{Math.random() * 20 + 10\}px`, animationDelay: `$\{i * 0.1\}s`\}\}></div>\
                                ))\}\
                            </div>\
                        </div>\
                    )\}\
                </div>\
            );\
        \};\
\
        const DisplaySettingsView = (\{ onBack \}) => \{\
            const [brightness, setBrightness] = useState(50);\
            const [timeout, setTimeout] = useState("30s");\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] pb-10">\
                    <NavBar title="\uc0\u26174 \u31034 \u19982 \u20142 \u24230 " onBack=\{onBack\} leftText="\u25105 \u30340 " />\
                    <div className="pt-6">\
                        <div className="px-4 mb-2 text-sm text-gray-500">\uc0\u36828 \u31243 \u35843 \u33410 \u29239 \u29239 \u35774 \u22791 \u30340 \u23631 \u24149 </div>\
                        \
                        <div className="bg-white rounded-xl p-4 mx-4 mb-6 shadow-sm border border-gray-200">\
                            <div className="flex items-center justify-between mb-2">\
                                <Sun size=\{20\} className="text-gray-400" />\
                                <span className="text-sm font-bold text-gray-900">\{brightness\}%</span>\
                                <Sun size=\{24\} className="text-gray-900" />\
                            </div>\
                            <input \
                                type="range" \
                                min="0" \
                                max="100" \
                                value=\{brightness\} \
                                onChange=\{(e) => setBrightness(e.target.value)\}\
                                className="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#007AFF]"\
                            />\
                        </div>\
\
                        <ListGroup title="\uc0\u33258 \u21160 \u24687 \u23631 ">\
                            \{["15\uc0\u31186 ", "30\u31186 ", "1\u20998 \u38047 ", "2\u20998 \u38047 ", "\u27704 \u19981 "].map((time) => (\
                                <div \
                                    key=\{time\} \
                                    onClick=\{() => setTimeout(time)\}\
                                    className="flex items-center justify-between p-4 bg-white active:bg-gray-50 cursor-pointer"\
                                >\
                                    <span className="text-gray-900">\{time\}</span>\
                                    \{timeout === time && <CheckCircle2 size=\{20\} className="text-[#007AFF]" />\}\
                                </div>\
                            ))\}\
                        </ListGroup>\
                    </div>\
                </div>\
            );\
        \};\
\
        const NotificationSettingsView = (\{ onBack \}) => \{\
            const [settings, setSettings] = useState(\{\
                fall: 'critical',\
                battery: 'standard',\
                health: 'standard',\
                outdoor: 'silent'\
            \});\
            const [editingKey, setEditingKey] = useState(null);\
\
            const getLabel = (mode) => \{\
                switch(mode) \{\
                    case 'critical': return '\uc0\u24378 \u25552 \u37266 ';\
                    case 'standard': return '\uc0\u26631 \u20934 ';\
                    case 'silent': return '\uc0\u38745 \u40664 ';\
                    case 'off': return '\uc0\u20851 \u38381 ';\
                    default: return '\uc0\u26631 \u20934 ';\
                \}\
            \};\
\
            const getIcon = (mode) => \{\
                switch(mode) \{\
                    case 'critical': return <BellRing size=\{20\} className="text-red-500" />;\
                    case 'standard': return <Bell size=\{20\} className="text-blue-500" />;\
                    case 'silent': return <BellOff size=\{20\} className="text-gray-400" />;\
                    case 'off': return <BellOff size=\{20\} className="text-gray-300" />;\
                    default: return <Bell size=\{20\} />;\
                \}\
            \};\
\
            const handleSelect = (mode) => \{\
                if (editingKey) \{\
                    setSettings(prev => (\{ ...prev, [editingKey]: mode \}));\
                    setEditingKey(null);\
                \}\
            \};\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] pb-10 relative">\
                    <NavBar title="\uc0\u36890 \u30693 \u25512 \u36865 " onBack=\{onBack\} leftText="\u25105 \u30340 " />\
                    <div className="pt-6">\
                        <ListGroup title="\uc0\u23433 \u20840 \u39044 \u35686  (\u24314 \u35758 \u24378 \u25552 \u37266 )">\
                            <div onClick=\{() => setEditingKey('fall')\} className="flex items-center justify-between p-4 bg-white active:bg-gray-50 cursor-pointer">\
                                <div className="flex items-center gap-3"><AlertTriangle size=\{22\} className="text-red-500" /><span className="text-[15px] font-medium">\uc0\u36300 \u20498 /\u27714 \u25937 \u25253 \u35686 </span></div>\
                                <div className="flex items-center gap-2">\{getIcon(settings.fall)\}<span className="text-sm text-gray-500">\{getLabel(settings.fall)\}</span><ChevronRight size=\{16\} className="text-gray-300" /></div>\
                            </div>\
                            <div onClick=\{() => setEditingKey('battery')\} className="flex items-center justify-between p-4 bg-white border-t border-gray-100 active:bg-gray-50 cursor-pointer">\
                                <div className="flex items-center gap-3"><Zap size=\{22\} className="text-orange-500" /><span className="text-[15px] font-medium">\uc0\u20302 \u30005 \u37327 \u25552 \u37266 </span></div>\
                                <div className="flex items-center gap-2">\{getIcon(settings.battery)\}<span className="text-sm text-gray-500">\{getLabel(settings.battery)\}</span><ChevronRight size=\{16\} className="text-gray-300" /></div>\
                            </div>\
                        </ListGroup>\
\
                        <ListGroup title="\uc0\u29983 \u27963 \u21160 \u24577 ">\
                            <div onClick=\{() => setEditingKey('health')\} className="flex items-center justify-between p-4 bg-white active:bg-gray-50 cursor-pointer">\
                                <div className="flex items-center gap-3"><Activity size=\{22\} className="text-blue-500" /><span className="text-[15px] font-medium">\uc0\u20581 \u24247 /\u39278 \u37202 \u24178 \u39044 </span></div>\
                                <div className="flex items-center gap-2">\{getIcon(settings.health)\}<span className="text-sm text-gray-500">\{getLabel(settings.health)\}</span><ChevronRight size=\{16\} className="text-gray-300" /></div>\
                            </div>\
                            <div onClick=\{() => setEditingKey('outdoor')\} className="flex items-center justify-between p-4 bg-white border-t border-gray-100 active:bg-gray-50 cursor-pointer">\
                                <div className="flex items-center gap-3"><MapPin size=\{22\} className="text-green-500" /><span className="text-[15px] font-medium">\uc0\u31163 \u23478 /\u24402 \u23478 \u36890 \u30693 </span></div>\
                                <div className="flex items-center gap-2">\{getIcon(settings.outdoor)\}<span className="text-sm text-gray-500">\{getLabel(settings.outdoor)\}</span><ChevronRight size=\{16\} className="text-gray-300" /></div>\
                            </div>\
                        </ListGroup>\
                    </div>\
\
                    \{editingKey && (\
                        <div className="absolute inset-0 z-50 bg-black/20 backdrop-blur-sm flex items-end animate-in fade-in duration-200">\
                            <div className="w-full bg-white rounded-t-2xl p-6 pb-safe-bottom animate-in slide-in-from-bottom-full duration-300">\
                                <div className="flex justify-between items-center mb-4">\
                                    <h3 className="text-lg font-bold">\uc0\u36873 \u25321 \u36890 \u30693 \u26041 \u24335 </h3>\
                                    <button onClick=\{() => setEditingKey(null)\} className="p-1 bg-gray-100 rounded-full"><X size=\{18\}/></button>\
                                </div>\
                                <div className="space-y-2">\
                                    \{[\
                                        \{ mode: 'critical', label: '\uc0\u24378 \u25552 \u37266 ', desc: '\u31361 \u30772 \u38745 \u38899 \u65292 \u25345 \u32493 \u21709 \u38083 \u38663 \u21160 ', icon: BellRing, color: 'text-red-500' \},\
                                        \{ mode: 'standard', label: '\uc0\u26631 \u20934 ', desc: '\u27491 \u24120 \u22768 \u38899 \u19982 \u38663 \u21160 ', icon: Bell, color: 'text-blue-500' \},\
                                        \{ mode: 'silent', label: '\uc0\u38745 \u40664 ', desc: '\u26080 \u22768 \u26080 \u38663 \u65292 \u20165 \u26174 \u31034 \u36890 \u30693 ', icon: BellOff, color: 'text-gray-400' \},\
                                        \{ mode: 'off', label: '\uc0\u20851 \u38381 ', desc: '\u19981 \u25509 \u25910 \u27492 \u31867 \u36890 \u30693 ', icon: BellOff, color: 'text-gray-300' \}\
                                    ].map((opt) => (\
                                        <button \
                                            key=\{opt.mode\}\
                                            onClick=\{() => handleSelect(opt.mode)\}\
                                            className=\{`w-full flex items-center justify-between p-4 rounded-xl border transition-all $\{settings[editingKey] === opt.mode ? 'bg-blue-50 border-blue-200' : 'bg-white border-gray-100'\}`\}\
                                        >\
                                            <div className="flex items-center gap-3">\
                                                <opt.icon size=\{20\} className=\{opt.color\} />\
                                                <div className="text-left">\
                                                    <div className="font-bold text-sm text-gray-900">\{opt.label\}</div>\
                                                    <div className="text-xs text-gray-500">\{opt.desc\}</div>\
                                                </div>\
                                            </div>\
                                            \{settings[editingKey] === opt.mode && <Check size=\{20\} className="text-blue-600" />\}\
                                        </button>\
                                    ))\}\
                                </div>\
                            </div>\
                        </div>\
                    )\}\
                </div>\
            );\
        \};\
\
        const EmergencyContactsView = (\{ onBack \}) => \{\
            const [contacts, setContacts] = useState([\
                \{ id: 1, name: "\uc0\u20799 \u23376  (\u24352 \u20255 )", phone: "13800138000", relation: "\u20027 \u35201 \u32852 \u31995 \u20154 " \},\
                \{ id: 2, name: "\uc0\u22899 \u20799  (\u24352 \u25935 )", phone: "13900139000", relation: "\u22791 \u29992 " \}\
            ]);\
\
            const handleDelete = (id) => \{\
                if (confirm("\uc0\u30830 \u23450 \u21024 \u38500 \u35813 \u32852 \u31995 \u20154 \u21527 \u65311 ")) \{\
                    setContacts(contacts.filter(c => c.id !== id));\
                \}\
            \};\
\
            const handleAdd = () => \{\
                const name = prompt("\uc0\u35831 \u36755 \u20837 \u22995 \u21517 ");\
                if (name) \{\
                    setContacts([...contacts, \{ id: Date.now(), name, phone: "138xxxx", relation: "\uc0\u26032 \u22686 " \}]);\
                \}\
            \};\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] pb-10">\
                    <NavBar title="\uc0\u32039 \u24613 \u32852 \u31995 \u20154 " onBack=\{onBack\} leftText="\u25105 \u30340 " rightIcon=\{<Plus size=\{24\}/>\} onRightClick=\{handleAdd\} />\
                    <div className="pt-6">\
                        <div className="px-4 mb-2 text-xs text-gray-500">\uc0\u35774 \u22791 \u35302 \u21457 SOS\u26102 \u65292 \u23558 \u25353 \u39034 \u24207 \u25320 \u25171 \u20197 \u19979 \u30005 \u35805 </div>\
                        <ListGroup>\
                            \{contacts.map((contact, index) => (\
                                <div key=\{contact.id\} className="flex items-center justify-between p-4 bg-white">\
                                    <div className="flex items-center gap-4">\
                                        <div className="w-6 h-6 rounded-full bg-red-100 text-red-500 flex items-center justify-center text-xs font-bold">\
                                            \{index + 1\}\
                                        </div>\
                                        <div>\
                                            <div className="text-[15px] font-medium text-gray-900">\{contact.name\}</div>\
                                            <div className="text-xs text-gray-500">\{contact.phone\}</div>\
                                        </div>\
                                    </div>\
                                    <button onClick=\{() => handleDelete(contact.id)\} className="p-2 text-gray-300 hover:text-red-500">\
                                        <Trash2 size=\{18\} />\
                                    </button>\
                                </div>\
                            ))\}\
                        </ListGroup>\
                        \
                        <button onClick=\{handleAdd\} className="mx-4 mt-4 w-full bg-white text-[#007AFF] font-medium h-12 rounded-xl border border-gray-200 flex items-center justify-center gap-2 active:bg-gray-50">\
                            <UserPlus size=\{20\} /> \uc0\u28155 \u21152 \u32039 \u24613 \u32852 \u31995 \u20154 \
                        </button>\
                    </div>\
                </div>\
            );\
        \};\
\
        const ProfileView = (\{ onNavigate \}) => (\
            <div className="min-h-full bg-[#F2F2F7] pb-24">\
                <div className="bg-white pt-14 pb-4 px-5 border-b border-gray-200 sticky top-0 z-20"><h1 className="text-3xl font-bold tracking-tight">\uc0\u25105 \u30340 </h1></div>\
                <div className="pt-6">\
                    <div className="bg-white mx-4 p-4 rounded-2xl flex items-center gap-4 mb-6 border border-gray-200/60 shadow-sm active:bg-gray-50 transition-colors cursor-pointer"><div className="w-16 h-16 rounded-full bg-gray-200 overflow-hidden"><img src=\{MOCK_DATA.user.avatar\} className="w-full h-full object-cover" alt="me" /></div><div className="flex-1"><h2 className="text-xl font-bold text-gray-900">\{MOCK_DATA.user.name\}</h2><p className="text-sm text-gray-500">Apple ID: \{MOCK_DATA.user.id\}</p></div><ChevronRight className="text-gray-300" /></div>\
                    <ListGroup title="\uc0\u23432 \u25252 \u35774 \u32622 "><ListRow icon=\{Users\} label="\u23478 \u24237 \u25104 \u21592 \u31649 \u29702 " value="3\u20154 " /><ListRow icon=\{Bell\} label="\u36890 \u30693 \u25512 \u36865 " value="\u24050 \u37197 \u32622 " onClick=\{() => onNavigate('notifications')\} /><ListRow icon=\{Phone\} label="\u32039 \u24613 \u32852 \u31995 \u20154 " value="2\u20154 " onClick=\{() => onNavigate('emergency_contacts')\} /></ListGroup>\
                    <ListGroup title="\uc0\u36890 \u29992 "><ListRow icon=\{Sun\} label="\u26174 \u31034 \u19982 \u20142 \u24230 " value="\u35774 \u22791 \u31471 " onClick=\{() => onNavigate('display_settings')\} /><ListRow icon=\{Shield\} label="\u38544 \u31169 \u19982 \u23433 \u20840 " /><ListRow icon=\{Info\} label="\u20851 \u20110  App" value="v2.1.0" /></ListGroup>\
                    <div className="px-4 mt-6"><button className="w-full bg-white text-red-500 font-semibold h-12 rounded-xl border border-gray-200 active:bg-gray-50 flex items-center justify-center gap-2"><LogOut size=\{18\} /> \uc0\u36864 \u20986 \u30331 \u24405 </button></div>\
                </div>\
            </div>\
        );\
\
        // --- \uc0\u26680 \u24515 \u20462 \u25913 \u65306 HomeView (\u25903 \u25345 \u21015 \u34920 \u25240 \u21472 ) ---\
        const HomeView = (\{ onOpenSettings, onOpenAlbum, onChangeTab, activeEvents, onDismissEvent, onOpenGreeting, onOpenIntercom \}) => \{\
            const getGreeting = () => \{\
                const hour = new Date().getHours();\
                if (hour < 5) return '\uc0\u22812 \u28145 \u20102 ';\
                if (hour < 9) return '\uc0\u26089 \u19978 \u22909 ';\
                if (hour < 12) return '\uc0\u19978 \u21320 \u22909 ';\
                if (hour < 14) return '\uc0\u20013 \u21320 \u22909 ';\
                if (hour < 19) return '\uc0\u19979 \u21320 \u22909 ';\
                return '\uc0\u26202 \u19978 \u22909 ';\
            \};\
\
            const [greeting, setGreeting] = useState(getGreeting());\
            const [showAllEvents, setShowAllEvents] = useState(false); // \uc0\u25511 \u21046 \u23637 \u24320 \u29366 \u24577 \
\
            useEffect(() => \{\
                const timer = setInterval(() => \{\
                    setGreeting(getGreeting());\
                \}, 60000);\
                return () => clearInterval(timer);\
            \}, []);\
\
            // \uc0\u20915 \u23450 \u26174 \u31034 \u30340 \u20107 \u20214 \u21015 \u34920 \
            const displayedEvents = showAllEvents ? activeEvents : activeEvents.slice(0, 2);\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] pb-24 relative">\
                    <div className="pt-12 px-5 pb-2 flex justify-between items-center bg-white/50 backdrop-blur-md sticky top-0 z-20">\
                        <div>\
                            <div className="text-xs font-medium text-gray-500 uppercase tracking-wider mb-1">\
                                \{new Date().toLocaleDateString('zh-CN', \{ month: 'long', day: 'numeric', weekday: 'long' \})\}\
                            </div>\
                            <h1 className="text-3xl font-bold text-gray-900">\{greeting\}</h1>\
                        </div>\
                        <button onClick=\{onOpenSettings\} className="w-10 h-10 bg-white rounded-full shadow-sm border border-gray-200 flex items-center justify-center active:scale-95 transition-transform"><Settings size=\{22\} className="text-gray-700" /></button>\
                    </div>\
\
                    <div className="p-4 space-y-6">\
                        <div className="bg-white rounded-3xl p-5 shadow-sm border border-white/50 relative overflow-hidden">\
                            <div className="absolute top-0 right-0 w-32 h-32 bg-blue-50 rounded-full blur-3xl -mr-10 -mt-10 pointer-events-none"></div>\
                            <div className="flex gap-4 items-center relative z-10">\
                                <div className="w-16 h-16 rounded-full bg-gray-200 border-2 border-white shadow-md overflow-hidden"><img src="https://images.unsplash.com/photo-1516724562728-afc824a36e84?q=80&w=400&auto=format&fit=crop" className="w-full h-full object-cover" alt="elder" /></div>\
                                <div>\
                                    <h2 className="text-xl font-bold text-gray-900">\{MOCK_DATA.elder.name\}</h2>\
                                    <div className="flex items-center gap-1.5 mt-1"><div className="w-2 h-2 rounded-full bg-green-500 animate-pulse"></div><span className="text-sm text-gray-500 font-medium">\uc0\u35774 \u22791 \u22312 \u32447  \'b7 \{MOCK_DATA.elder.status\}</span></div>\
                                </div>\
                            </div>\
                            <div className="mt-6 bg-gray-50 rounded-xl p-3 flex items-center justify-between border border-gray-100">\
                                <div className="flex items-center gap-2 text-gray-600"><MapPin size=\{16\} className="text-blue-500"/><span className="text-xs font-medium truncate max-w-[180px]">\{MOCK_DATA.elder.location\}</span></div><ChevronRight size=\{16\} className="text-gray-300" />\
                            </div>\
                        </div>\
\
                        \{/* \uc0\u23454 \u26102 \u21160 \u24577 \u21306 \u22495 \u65306 \u25903 \u25345 \u25240 \u21472 /\u23637 \u24320  */\}\
                        \{activeEvents && activeEvents.length > 0 && (\
                            <div className="animate-in fade-in duration-300">\
                                <div className="px-1 mb-2 flex items-center justify-between">\
                                    <h3 className="text-sm font-bold text-gray-400 uppercase tracking-wider">\uc0\u26368 \u26032 \u21160 \u24577 </h3>\
                                    <span className="text-xs text-blue-500 font-medium">\
                                        \{activeEvents.length > 0 ? `$\{activeEvents.length\} \uc0\u26465 \u21160 \u24577 ` : '\u21018 \u21018 \u26356 \u26032 '\}\
                                    </span>\
                                </div>\
                                \
                                <div className="space-y-2">\
                                    \{displayedEvents.map((event) => (\
                                        <InsightCard \
                                            key=\{event.id\}\
                                            type=\{event.type\} \
                                            title=\{event.title\} \
                                            desc=\{event.desc\} \
                                            time=\{event.time\} \
                                            onAction=\{() => onOpenIntercom(event)\} \
                                            onDismiss=\{() => onDismissEvent(event.id)\} \
                                        />\
                                    ))\}\
                                </div>\
                                \
                                \{activeEvents.length > 2 && (\
                                    <button \
                                        onClick=\{() => setShowAllEvents(!showAllEvents)\}\
                                        className="w-full text-center text-xs font-medium text-gray-500 mt-2 py-2 bg-white/50 rounded-lg hover:bg-white active:scale-95 transition-all flex items-center justify-center gap-1"\
                                    >\
                                        \{showAllEvents ? (\
                                            <>\uc0\u25910 \u36215  <ChevronUp size=\{14\} /></>\
                                        ) : (\
                                            <>\uc0\u26597 \u30475 \u26356 \u22810  (\{activeEvents.length - 2\}\u26465 ) <ChevronDown size=\{14\} /></>\
                                        )\}\
                                    </button>\
                                )\}\
                            </div>\
                        )\}\
\
                        \{/* \uc0\u31354 \u29366 \u24577 \u21345 \u29255 \u65306 \u23432 \u25252 \u20013  */\}\
                        \{(!activeEvents || activeEvents.length === 0) && (\
                            <div className="animate-in fade-in duration-300">\
                                <div className="px-1 mb-2 flex items-center justify-between">\
                                    <h3 className="text-sm font-bold text-gray-400 uppercase tracking-wider">\uc0\u26368 \u26032 \u21160 \u24577 </h3>\
                                </div>\
                                <div className="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-6 border border-green-100 flex flex-col items-center text-center">\
                                    <div className="w-12 h-12 bg-white rounded-full flex items-center justify-center mb-3 shadow-sm">\
                                        <Shield size=\{24\} className="text-green-500" />\
                                    </div>\
                                    <h4 className="text-green-800 font-bold mb-1">\uc0\u27491 \u22312 \u36148 \u24515 \u23432 \u25252 \u20013 </h4>\
                                    <p className="text-green-600/80 text-xs">\uc0\u24403 \u21069 \u26242 \u26080 \u24322 \u24120 \u65292 \u29239 \u29239 \u19968 \u20999 \u23433 \u22909 </p>\
                                </div>\
                            </div>\
                        )\}\
\
                        <div className="grid grid-cols-2 gap-4">\
                            <Widget icon=\{Heart\} title="\uc0\u24515 \u29575 " value=\{MOCK_DATA.elder.heartRateStatus\} unit="" colorClass="bg-green-500" subValue="\u30417 \u27979 \u27491 \u24120 "/>\
                            \{/* \uc0\u26367 \u25442 \u20026 \u27963 \u21160 \u29366 \u24577  */\}\
                            <Widget \
                                icon=\{Move\} \
                                title="\uc0\u27963 \u21160 \u29366 \u24577 " \
                                value=\{MOCK_DATA.elder.activityStatus\} \
                                unit="" \
                                colorClass="bg-blue-500" \
                                subValue=\{MOCK_DATA.elder.activityDuration\}\
                            />\
                        </div>\
\
                        <div>\
                            <h3 className="text-lg font-bold mb-3 px-1 flex items-center gap-2"><Sparkles size=\{18\} className="text-amber-500" />\uc0\u36148 \u24515 \u20114 \u21160 </h3>\
                            <div className="grid grid-cols-2 gap-3">\
                                <button onClick=\{() => onOpenIntercom()\} className="h-20 bg-[#007AFF] text-white rounded-2xl font-semibold shadow-blue-200 shadow-lg active:scale-[0.98] transition-all flex flex-col items-center justify-center gap-1">\
                                    <Mic size=\{24\} /> \
                                    <span className="text-xs opacity-90">\uc0\u36828 \u31243 \u21898 \u35805 </span>\
                                </button>\
                                <button onClick=\{onOpenGreeting\} className="h-20 bg-white text-gray-900 border border-gray-200 rounded-2xl font-semibold active:bg-gray-50 active:scale-[0.98] transition-all flex flex-col items-center justify-center gap-1">\
                                    <Send size=\{24\} className="text-amber-500" />\
                                    <span className="text-xs text-gray-600">\uc0\u21457 \u36865 \u38382 \u20505 </span>\
                                </button>\
                            </div>\
                        </div>\
\
                        <div className="mt-4 pt-4 border-t border-gray-200/50">\
                            <h3 className="text-lg font-bold mb-3 px-1 flex items-center gap-2"><Shield size=\{18\} className="text-red-500" />\uc0\u23433 \u20840 \u23432 \u25252 </h3>\
                            <button onClick=\{() => alert("\uc0\u30830 \u35748 \u35201 \u21628 \u21483 \u32039 \u24613 \u32852 \u31995 \u20154 \u21527 \u65311 ")\} className="w-full h-14 bg-red-50 text-red-600 border border-red-100 rounded-xl font-bold flex items-center justify-center gap-2 active:bg-red-100 transition-colors"><Phone size=\{20\} fill="currentColor" className="text-red-500" />\u32039 \u24613 \u21628 \u21483 \u32852 \u31995 \u20154 </button>\
                        </div>\
                    </div>\
                </div>\
            );\
        \};\
\
        const TimelineView = (\{ onOpenTopic \}) => \{\
            const [selectedPeriod, setSelectedPeriod] = useState('\uc0\u20840 \u37096 ');\
            const [expandedGroups, setExpandedGroups] = useState(\{\
                'today': true, \
                'yesterday': false, \
                'week': false, \
                'month': false \
            \});\
\
            const toggleGroup = (groupKey) => \{\
                setExpandedGroups(prev => (\{\
                    ...prev,\
                    [groupKey]: !prev[groupKey]\
                \}));\
            \};\
\
            const handlePeriodChange = (period) => \{\
                setSelectedPeriod(period);\
                if (period === '\uc0\u20170 \u22825 ') setExpandedGroups(prev => (\{ ...prev, 'today': true \}));\
                if (period === '\uc0\u26152 \u22825 ') setExpandedGroups(prev => (\{ ...prev, 'yesterday': true \}));\
                if (period === '\uc0\u26412 \u21608 ') setExpandedGroups(prev => (\{ ...prev, 'week': true \}));\
                if (period === '\uc0\u26412 \u26376 ') setExpandedGroups(prev => (\{ ...prev, 'month': true \}));\
            \};\
\
            const logs = [\
                \{ title: "\uc0\u20146 \u24773 \u35805 \u39064 \u25688 \u35201 ", desc: "\u29239 \u29239 \u32842 \u36215 \u20102 \u25991 \u24037 \u22242 \u30340 \u24448 \u20107 \u65292 \u24515 \u24773 \u19981 \u38169 \u12290 ", time: "14:00", color: "text-orange-500", icon: Heart, timestamp: new Date().setHours(14,0,0,0), type: 'topic', canChat: true \},\
                \{ title: "\uc0\u20581 \u24247 \u39118 \u38505 \u24178 \u39044 ", desc: "\u21149 \u38459 \u20102 \u39278 \u37202 \u34892 \u20026 ", time: "12:30", color: "text-blue-500", icon: Activity, timestamp: new Date().setHours(12,30,0,0), type: 'risk', canChat: true \},\
                \{ title: "\uc0\u24515 \u29575 \u30417 \u27979 \u27491 \u24120 ", time: "09:00", color: "text-green-500", icon: Heart, timestamp: new Date().setHours(9,0,0,0) \},\
                \{ title: "\uc0\u22238 \u21040 \u23478 \u20013 ", time: "\u26152 \u22825  18:00", color: "text-green-500", icon: MapPin, timestamp: new Date(Date.now() - 86400000).setHours(18,0,0,0) \},\
                \{ title: "\uc0\u31163 \u24320 \u23433 \u20840 \u22260 \u26639 ", time: "\u26152 \u22825  15:00", color: "text-gray-500", icon: Shield, timestamp: new Date(Date.now() - 86400000).setHours(15,0,0,0) \},\
                \{ title: "\uc0\u35774 \u22791 \u30005 \u37327 \u36807 \u20302 ", time: "\u26152 \u22825  20:00", color: "text-yellow-500", icon: Zap, timestamp: new Date(Date.now() - 86400000).setHours(20,0,0,0) \},\
                \{ title: "\uc0\u26381 \u29992 \u38477 \u21387 \u33647 \u25171 \u21345 ", time: "\u21608 \u20116  08:00", color: "text-blue-500", icon: CheckCircle2, timestamp: new Date(Date.now() - 172800000).setHours(8,0,0,0) \}, \
                \{ title: "\uc0\u38271 \u26102 \u38388 \u38745 \u22352 \u25552 \u37266 ", time: "\u21608 \u22235  14:00", color: "text-orange-500", icon: Activity, timestamp: new Date(Date.now() - 259200000).setHours(14,0,0,0) \},\
                \{ title: "\uc0\u22806 \u20986 \u25955 \u27493 ", time: "\u21608 \u19977  16:30", color: "text-green-500", icon: MapPin, timestamp: new Date(Date.now() - 345600000).setHours(16,30,0,0) \},\
                \{ title: "\uc0\u26376 \u24230 \u20581 \u24247 \u25253 \u21578 \u29983 \u25104 ", time: "12\u26376 1\u26085 ", color: "text-blue-600", icon: Calendar, timestamp: new Date(Date.now() - 2000000000).getTime() \}, \
            ];\
\
            const groupedLogs = logs.reduce((acc, log) => \{\
                const date = new Date(log.timestamp);\
                const now = new Date();\
                \
                let groupKey = 'older';\
                const diffTime = Math.abs(now - date);\
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));\
\
                if (isSameDay(date, now)) groupKey = 'today';\
                else if (isYesterday(date)) groupKey = 'yesterday';\
                else if (diffDays <= 7) groupKey = 'week';\
                else if (diffDays <= 30) groupKey = 'month';\
\
                if (!acc[groupKey]) acc[groupKey] = [];\
                acc[groupKey].push(log);\
                return acc;\
            \}, \{\});\
\
            const RenderGroup = (\{ groupKey, title, count, showIfEmpty = false \}) => \{\
                const items = groupedLogs[groupKey] || [];\
                if (selectedPeriod !== '\uc0\u20840 \u37096 ' && \
                    ((selectedPeriod === '\uc0\u20170 \u22825 ' && groupKey !== 'today') ||\
                     (selectedPeriod === '\uc0\u26152 \u22825 ' && groupKey !== 'yesterday') ||\
                     (selectedPeriod === '\uc0\u26412 \u21608 ' && groupKey !== 'week') ||\
                     (selectedPeriod === '\uc0\u26412 \u26376 ' && groupKey !== 'month'))) \{\
                    return null;\
                \}\
\
                if (items.length === 0 && !showIfEmpty) return null;\
\
                const isExpanded = selectedPeriod !== '\uc0\u20840 \u37096 ' ? true : expandedGroups[groupKey]; \
\
                return (\
                    <div className="mb-4">\
                        \{(groupKey !== 'today' || selectedPeriod === '\uc0\u20840 \u37096 ') && (\
                            <div \
                                onClick=\{() => toggleGroup(groupKey)\}\
                                className="flex items-center justify-between px-6 py-2 cursor-pointer active:opacity-60 transition-opacity"\
                            >\
                                <div className="flex items-center gap-2">\
                                    <h3 className=\{`text-sm font-bold $\{groupKey === 'today' ? 'text-blue-600' : 'text-gray-500'\}`\}>\
                                        \{title\}\
                                    </h3>\
                                    <span className="text-xs text-gray-400 bg-gray-100 px-2 py-0.5 rounded-full">\
                                        \{items.length\}\uc0\u26465 \
                                    </span>\
                                </div>\
                                \{selectedPeriod === '\uc0\u20840 \u37096 ' && (\
                                    <div className="text-gray-400">\
                                        \{isExpanded ? <ChevronUp size=\{16\} /> : <ChevronDown size=\{16\} />\}\
                                    </div>\
                                )\}\
                            </div>\
                        )\}\
\
                        \{isExpanded && (\
                            <div className="bg-white rounded-xl overflow-hidden border border-gray-200/50 shadow-sm mx-4 animate-in slide-in-from-top-2 duration-300">\
                                \{items.map((item, i) => (\
                                    <React.Fragment key=\{i\}>\
                                        <div className="flex items-center justify-between p-4 bg-white hover:bg-gray-50 transition-colors">\
                                            <div className="flex items-center gap-3">\
                                                <div className=\{`p-2 rounded-lg bg-gray-50 $\{item.color\}`\}>\
                                                    <item.icon size=\{20\} />\
                                                </div>\
                                                <div>\
                                                    <div className="font-medium text-[15px] text-gray-900">\{item.title\}</div>\
                                                    \{item.desc && <div className="text-xs text-gray-500 mt-0.5 line-clamp-1">\{item.desc\}</div>\}\
                                                    \{!item.desc && <div className="text-xs text-gray-400 mt-0.5">\uc0\u35774 \u22791 \u33258 \u21160 \u19978 \u25253 </div>\}\
                                                </div>\
                                            </div>\
                                            <div className="flex items-center gap-2">\
                                                <span className="text-xs font-medium text-gray-400">\{item.time\}</span>\
                                                \{item.canChat && (\
                                                    <button \
                                                        onClick=\{() => onOpenTopic(item)\}\
                                                        className="p-1.5 bg-blue-50 text-blue-600 rounded-lg active:bg-blue-100"\
                                                    >\
                                                        <MessageSquare size=\{14\} />\
                                                    </button>\
                                                )\}\
                                            </div>\
                                        </div>\
                                        \{i < items.length - 1 && <div className="ml-14 border-b border-gray-100 h-[1px]" />\}\
                                    </React.Fragment>\
                                ))\}\
                            </div>\
                        )\}\
                    </div>\
                );\
            \};\
\
            return (\
                <div className="h-full bg-[#F2F2F7] pb-24 flex flex-col">\
                    <div className="bg-white pt-14 pb-0 border-b border-gray-200 sticky top-0 z-20 shadow-sm">\
                        <div className="px-5 mb-4">\
                            <h1 className="text-3xl font-bold tracking-tight text-gray-900">\uc0\u26102 \u20809 \u21360 \u35760 </h1>\
                        </div>\
                        \
                        <div className="flex gap-2 overflow-x-auto no-scrollbar px-5 pb-3">\
                            \{['\uc0\u20840 \u37096 ', '\u20170 \u22825 ', '\u26152 \u22825 ', '\u26412 \u21608 ', '\u26412 \u26376 '].map((period) => (\
                                <button \
                                    key=\{period\}\
                                    onClick=\{() => handlePeriodChange(period)\}\
                                    className=\{`px-5 py-2 rounded-full text-[13px] font-bold whitespace-nowrap transition-all duration-300\
                                        $\{selectedPeriod === period \
                                            ? 'bg-black text-white shadow-lg transform scale-105' \
                                            : 'bg-gray-100 text-gray-500 hover:bg-gray-200'\}`\}\
                                >\
                                    \{period\}\
                                </button>\
                            ))\}\
                        </div>\
                    </div>\
                    \
                    <div className="pt-6 flex-1 overflow-y-auto">\
                        <RenderGroup groupKey="today" title="\uc0\u20170 \u22825 " count=\{groupedLogs['today']?.length\} showIfEmpty=\{true\} />\
                        <RenderGroup groupKey="yesterday" title="\uc0\u26152 \u22825 " count=\{groupedLogs['yesterday']?.length\} />\
                        <RenderGroup groupKey="week" title="\uc0\u36807 \u21435 7\u22825 " count=\{groupedLogs['week']?.length\} />\
                        <RenderGroup groupKey="month" title="\uc0\u26412 \u26376 " count=\{groupedLogs['month']?.length\} />\
                        \
                        <div className="h-8" /> \
                    </div>\
                </div>\
            );\
        \};\
\
        const AlbumView = () => \{\
            const [photos, setPhotos] = useState(INITIAL_PHOTOS);\
            \
            const handleUpload = () => \{\
                const newPhoto = \{ \
                    id: Date.now(),\
                    url: "https://images.unsplash.com/photo-1511895426328-dc8714191300?q=80&w=800&auto=format&fit=crop", \
                    timestamp: Date.now(),\
                    caption: "\uc0\u26032 \u19978 \u20256 ",\
                    status: "synced"\
                \};\
                setPhotos([newPhoto, ...photos]);\
            \};\
\
            const groupedPhotos = photos.reduce((acc, photo) => \{\
                const date = new Date(photo.timestamp);\
                const monthKey = `$\{date.getFullYear()\}\uc0\u24180 $\{date.getMonth() + 1\}\u26376 `;\
                \
                if (!acc[monthKey]) acc[monthKey] = [];\
                acc[monthKey].push(photo);\
                return acc;\
            \}, \{\});\
\
            const sortedMonthKeys = Object.keys(groupedPhotos).sort((a, b) => \{\
                const [y1, m1] = a.replace('\uc0\u26376 ','').split('\u24180 ').map(Number);\
                const [y2, m2] = b.replace('\uc0\u26376 ','').split('\u24180 ').map(Number);\
                if (y1 !== y2) return y2 - y1;\
                return m2 - m1;\
            \});\
\
            return (\
                <div className="min-h-full bg-[#F2F2F7] pb-24 flex flex-col">\
                    <div className="bg-white/80 backdrop-blur-md pt-14 pb-4 px-5 border-b border-gray-200 sticky top-0 z-20 flex justify-between items-center">\
                        <h1 className="text-3xl font-bold tracking-tight text-gray-900">\uc0\u20146 \u24773 \u30456 \u20876 </h1>\
                        <button onClick=\{handleUpload\} className="w-10 h-10 bg-black text-white rounded-full flex items-center justify-center shadow-lg active:scale-95 transition-transform">\
                            <Plus size=\{24\} />\
                        </button>\
                    </div>\
                    \
                    <div className="flex-1 overflow-y-auto p-0 pb-10">\
                        <div className="pt-5 px-5 pb-8 bg-white border-b border-gray-100 mb-2">\
                            <div className="flex items-center gap-2 mb-3 px-1">\
                                <Tv size=\{18\} className="text-[#007AFF]" />\
                                <h2 className="text-sm font-bold text-gray-500 uppercase tracking-wider">\uc0\u29239 \u29239 \u30340 \u23631 \u24149 \u27491 \u22312 \u26174 \u31034 </h2>\
                            </div>\
                            \
                            <div className="bg-gray-800 p-2 rounded-3xl shadow-2xl mx-2">\
                                <div className="relative aspect-[16/10] bg-black rounded-2xl overflow-hidden border-2 border-gray-700/50">\
                                    <img src=\{photos[0].url\} className="w-full h-full object-cover opacity-90" />\
                                    <div className="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent flex flex-col justify-end p-4">\
                                        <p className="text-white text-lg font-medium">\{photos[0].caption\}</p>\
                                        <p className="text-white/60 text-xs mt-1">\uc0\u26368 \u36817 \u26356 \u26032 </p>\
                                    </div>\
                                    <div className="absolute top-3 right-3 flex gap-2">\
                                        <Wifi size=\{14\} className="text-white/70" />\
                                        <Battery size=\{14\} className="text-white/70" />\
                                    </div>\
                                </div>\
                                <div className="mt-3 flex items-center justify-center gap-2 text-white/40 text-[10px]">\
                                    <Sparkles size=\{10\} />\
                                    <span>AI \uc0\u26234 \u33021 \u36718 \u25773 \u20013 \u65306 \u20248 \u20808 \u23637 \u31034 \u31934 \u36873 \u19982 \u26368 \u26032 \u29031 \u29255 </span>\
                                </div>\
                            </div>\
                        </div>\
\
                        <div className="px-1">\
                            <div className="flex items-center gap-2 mb-2 px-4 mt-6">\
                                <UploadCloud size=\{18\} className="text-gray-400" />\
                                <h2 className="text-sm font-bold text-gray-500 uppercase tracking-wider">\uc0\u30456 \u20876 \u26102 \u38388 \u36724 </h2>\
                            </div>\
\
                            \{sortedMonthKeys.map(month => (\
                                <div key=\{month\} className="mb-6">\
                                    <div className="sticky top-0 z-10 px-4 py-2 bg-[#F2F2F7]/95 backdrop-blur-sm mb-2">\
                                        <h3 className="text-lg font-bold text-gray-900">\{month\}</h3>\
                                    </div>\
                                    \
                                    <div className="grid grid-cols-3 gap-1 px-1">\
                                        \{groupedPhotos[month].map((photo) => (\
                                            <div key=\{photo.id\} className="aspect-square relative group overflow-hidden bg-gray-200">\
                                                <img src=\{photo.url\} className="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110" />\
                                                \{photo.status === 'displaying' && (\
                                                    <div className="absolute top-1 right-1 bg-green-500 w-2.5 h-2.5 rounded-full border border-white shadow-sm" />\
                                                )\}\
                                            </div>\
                                        ))\}\
                                    </div>\
                                </div>\
                            ))\}\
                            \
                            <div className="py-8 text-center text-xs text-gray-400">\
                                \uc0\u24050 \u21152 \u36733 \u20840 \u37096  \{photos.length\} \u24352 \u29031 \u29255 \
                            </div>\
                        </div>\
                    </div>\
                </div>\
            );\
        \};\
\
        const App = () => \{\
            const [activeTab, setActiveTab] = useState('home'); \
            const [viewStack, setViewStack] = useState(['main']); \
            const [showGreetingModal, setShowGreetingModal] = useState(false);\
            \
            // \uc0\u25913 \u20026 \u25968 \u32452 \u65292 \u25903 \u25345 \u22810 \u26465 \u20107 \u20214 \u22534 \u21472 \
            const [activeEvents, setActiveEvents] = useState([]);\
            const [isEmergency, setIsEmergency] = useState(false);\
            \
            // \uc0\u26242 \u23384 \u38656 \u35201 \u20256 \u32473  Intercom \u30340 \u35805 \u39064 \
            const [intercomTopic, setIntercomTopic] = useState(null);\
\
            // \uc0\u27169 \u25311 \u25968 \u25454 \u27969 \u65306 \u20998 \u25209 \u25512 \u36865 \u20107 \u20214 \
            useEffect(() => \{\
                const timer1 = setTimeout(() => \{\
                    setActiveEvents(prev => [\{\
                        id: 1,\
                        type: 'risk', \
                        title: '\uc0\u20581 \u24247 \u39118 \u38505 \u24178 \u39044 ',\
                        desc: '\uc0\u29239 \u29239 \u20027 \u21160 \u35810 \u38382 \u19979 \u37202 \u33756 \u65292 \u31995 \u32479 \u24050 \u24314 \u35758 \u20197 \u33590 \u20195 \u37202 \u12290 ',\
                        time: '\uc0\u21018 \u21018 '\
                    \}, ...prev]);\
                \}, 2000);\
\
                const timer2 = setTimeout(() => \{\
                    setActiveEvents(prev => [\{\
                        id: 2,\
                        type: 'topic', \
                        title: '\uc0\u29239 \u29239 \u21018 \u25165 \u32842 \u36215 \u20102 \u25112 \u21451 ',\
                        desc: '\uc0\u35774 \u22791 \u30417 \u27979 \u21040 \u38271 \u22352 \u24182 \u20027 \u21160 \u21457 \u36215 \u38506 \u20276 \u23545 \u35805 \u65292 \u29239 \u29239 \u32842 \u36215 \u20102 \u25991 \u24037 \u22242 \u30340 \u24448 \u20107 \u65292 \u24515 \u24773 \u19981 \u38169 \u12290 ',\
                        time: '\uc0\u21018 \u21018 '\
                    \}, ...prev]);\
                \}, 4000);\
                \
                // \uc0\u27169 \u25311 \u31532 \u19977 \u26465 \u25968 \u25454 \u65292 \u27979 \u35797 \u25240 \u21472 \
                const timer3 = setTimeout(() => \{\
                    setActiveEvents(prev => [\{\
                        id: 3,\
                        type: 'battery', \
                        title: '\uc0\u20302 \u30005 \u37327 \u25552 \u37266 ',\
                        desc: '\uc0\u35774 \u22791 \u30005 \u37327 \u20302 \u20110  20%\u65292 \u35831 \u25552 \u37266 \u29239 \u29239 \u20805 \u30005 \u12290 ',\
                        time: '\uc0\u21018 \u21018 '\
                    \}, ...prev]);\
                \}, 6000);\
\
                return () => \{ clearTimeout(timer1); clearTimeout(timer2); clearTimeout(timer3); \};\
            \}, []);\
\
            const dismissEvent = (id) => \{\
                setActiveEvents(prev => prev.filter(e => e.id !== id));\
            \};\
\
            const TabBar = () => \{\
                const tabs = [\
                    \{ id: 'home', icon: Shield, label: '\uc0\u23432 \u25252 ' \},\
                    \{ id: 'album', icon: ImageIcon, label: '\uc0\u30456 \u20876 ' \}, \
                    \{ id: 'history', icon: Footprints, label: '\uc0\u28857 \u28404 ' \},\
                    \{ id: 'profile', icon: User, label: '\uc0\u25105 \u30340 ' \},\
                ];\
                return (\
                    <div className="absolute bottom-0 w-full bg-white/80 backdrop-blur-xl border-t border-gray-200 pb-8 pt-2 px-6 flex justify-between items-center z-50">\
                        \{tabs.map(tab => \{\
                            const isActive = activeTab === tab.id;\
                            return (\
                                <button key=\{tab.id\} onClick=\{() => \{ setActiveTab(tab.id); setViewStack(['main']); \}\} className=\{`flex flex-col items-center gap-1 p-1 transition-all w-16 $\{isActive ? 'text-[#007AFF]' : 'text-gray-400'\}`\}>\
                                    <tab.icon size=\{26\} strokeWidth=\{isActive ? 2.5 : 2\} />\
                                    <span className="text-[10px] font-medium">\{tab.label\}</span>\
                                </button>\
                            );\
                        \})\}\
                    </div>\
                );\
            \};\
\
            const renderContent = () => \{\
                // \uc0\u20840 \u23616 \u25318 \u25130  Intercom \u36335 \u30001 \
                if (viewStack.includes('intercom')) \{\
                    return <IntercomView onBack=\{() => setViewStack(['main'])\} initialTopic=\{intercomTopic\} />;\
                \}\
\
                if (activeTab === 'home') \{\
                    if (viewStack.includes('device_settings')) return <DeviceSettingsView onBack=\{() => setViewStack(['main'])\} />;\
                    return (\
                        <React.Fragment>\
                            <HomeView \
                                onOpenSettings=\{() => setViewStack(['main', 'device_settings'])\} \
                                onOpenAlbum=\{() => setActiveTab('album')\} \
                                onChangeTab=\{setActiveTab\} \
                                activeEvents=\{activeEvents\} // \uc0\u20256 \u20837 \u25968 \u32452 \
                                onDismissEvent=\{dismissEvent\} // \uc0\u20256 \u20837 \u21024 \u38500 \u20989 \u25968 \
                                onOpenGreeting=\{() => setShowGreetingModal(true)\}\
                                onOpenIntercom=\{(topic) => \{\
                                    setIntercomTopic(topic);\
                                    setViewStack(['main', 'intercom']);\
                                \}\}\
                            />\
                            \{showGreetingModal && <GreetingModal onClose=\{() => setShowGreetingModal(false)\} />\}\
                        </React.Fragment>\
                    );\
                \}\
                if (activeTab === 'album') return <AlbumView />; \
                if (activeTab === 'history') return <TimelineView onOpenTopic=\{(topic) => \{\
                    setIntercomTopic(topic);\
                    setViewStack(['main', 'intercom']);\
                \}\} />;\
                if (activeTab === 'profile') \{\
                    if (viewStack.includes('display_settings')) return <DisplaySettingsView onBack=\{() => setViewStack(['main'])\} />;\
                    if (viewStack.includes('notifications')) return <NotificationSettingsView onBack=\{() => setViewStack(['main'])\} />;\
                    if (viewStack.includes('emergency_contacts')) return <EmergencyContactsView onBack=\{() => setViewStack(['main'])\} />;\
                    return <ProfileView onNavigate=\{(view) => setViewStack(['main', view])\} />;\
                \}\
                return null;\
            \};\
\
            return (\
                <div className="w-full min-h-screen flex items-center justify-center p-8 font-sans">\
                    <div className="relative bg-black shadow-2xl overflow-hidden flex flex-col" style=\{\{ width: '402px', height: '874px', borderRadius: '50px' \}\}>\
                        <div className="w-full h-12 flex justify-between items-end px-7 pb-2 text-sm font-semibold select-none z-50 absolute top-0 left-0 text-black mix-blend-difference pointer-events-none">\
                            <span className="text-black">9:41</span>\
                            <div className="flex gap-1.5 items-center text-black"><Signal size=\{16\} fill="black" /><Wifi size=\{16\} /><Battery size=\{20\} fill="black" /></div>\
                        </div>\
                        \
                        \{/* \uc0\u21160 \u24577 \u20869 \u23481 \u21306  */\}\
                        <div className="flex-1 w-full h-full relative overflow-y-auto no-scrollbar bg-[#F2F2F7]">\
                            \{renderContent()\}\
                        </div>\
\
                        \{/* \uc0\u24213 \u37096 \u23548 \u33322  */\}\
                        <TabBar />\
\
                        \{/* S2 \uc0\u32039 \u24613 \u36300 \u20498 \u35206 \u30422 \u23618  (\u26368 \u39640 \u20248 \u20808 \u32423 ) */\}\
                        \{isEmergency && <EmergencyOverlay onDismiss=\{() => setIsEmergency(false)\} onCall=\{() => alert("\uc0\u27491 \u22312 \u21628 \u21483 ...")\} />\}\
                        \
                        <div className="absolute bottom-2 left-1/2 transform -translate-x-1/2 w-36 h-1.5 bg-black rounded-full z-[60] pointer-events-none opacity-80"></div>\
                    </div>\
                </div>\
            );\
        \};\
\
        // \uc0\u25346 \u36733 \u24212 \u29992 \u21040  DOM\
        const root = createRoot(document.getElementById('root'));\
        root.render(<App />);\
\
    </script>\
</body>\
</html>}